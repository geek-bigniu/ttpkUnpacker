define("pages/daily_rank/index.js",(function(e,n,t,r,a,o,u,c,i,s,f,l,d,b,m,p,k,v,g,_,h,y,O,w,x,C,j,P,T,I,N,L,E){(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/daily_rank/index"],{"144f":function(e,n,t){},"161b":function(e,n,t){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}t("6cdc"),n(t("dc04")),e(n(t("52c5")).default)}).call(this,t("d1fe").createPage)},"52c5":function(e,n,t){"use strict";t.r(n);var r=t("ad0e"),a=t("e88c");for(var o in a)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t("e6f6");var u=t("f0c5"),c=Object(u.a)(a.default,r.b,r.c,!1,null,"8bb6e50a",null,!1,r.a,undefined);n.default=c.exports},ad0e:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){}));var r=function(){var e=this,n=(e.$createElement,e._self._c,e.__map(Object.keys(e.TextMap),(function(n,t){return{$orig:e.__get_orig(n),m0:Number(n),m1:Number(n)}})));e._isMounted||(e.e0=function(n,t){var r=arguments[arguments.length-1].currentTarget.dataset,a=r.eventParams||r["event-params"];return t=a.k,e.handleTabChange(t)}),e.$mp.data=Object.assign({},{$root:{l0:n}})},a=[]},c1cd:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.TabEnum=void 0;var r,o=d(t("a34a")),u=d(t("7ee8")),c=t("ec46"),i=t("dc04"),s=t("8e44"),f=t("5bf1"),l=d(t("3d4b"));function d(e){return e&&e.__esModule?e:{default:e}}function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){v(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n,t,r,o,u,c){try{var i=e[u](c),s=i.value}catch(e){return void t(e)}i.done?n(s):a.resolve(s).then(r,o)}function k(e){return function(){var n=this,t=arguments;return new a((function(r,a){var o=e.apply(n,t);function u(e){p(o,r,a,u,c,"next",e)}function c(e){p(o,r,a,u,c,"throw",e)}u(void 0)}))}}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var g={ContributorCount:1,IncomePeopleCount:2,IncomeIncrease:3};n.TabEnum=g;var _=(v(r={},g.ContributorCount,{tabText:"投稿人数榜",tips:"按昨日任务投稿人数由高至低排行",tabName:"publish_rank"}),v(r,g.IncomePeopleCount,{tabText:"收益人数榜",tips:"按投稿任务后获得收益的人数由高至低排行",tabName:"profit_rank"}),v(r,g.IncomeIncrease,{tabText:"收益飙升榜",tips:"按任务投稿总收益对比前日提升幅度由高至低排行",tabName:"profit_boosting_rank"}),r),h={components:{Back:function(){a.all([t.e("common/vendor"),t.e("components/Back")]).then(function(){return resolve(t("66b7"))}.bind(null,t)).catch(t.oe)},RankItem:function(){a.all([t.e("common/vendor"),t.e("pages/daily_rank/components/RankItem")]).then(function(){return resolve(t("6918"))}.bind(null,t)).catch(t.oe)}},setup:function(){var e,n=(0,l.default)(),t=n.rankPageShowLog,r=n.cardClickLog,a=n.cardShowLog,d=n.missionClickLog,b=n.missionShowLog,p=(0,i.reactive)({tab:g.ContributorCount,list:(e={},v(e,g.ContributorCount,[]),v(e,g.IncomePeopleCount,[]),v(e,g.IncomeIncrease,[]),e),inited:!1}),h=function(){var e=k(o.default.mark((function e(n){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.getGameTaskRank)({rank_types:n});case 3:if(t=e.sent,!(0,u.default)(t)&&!(0,u.default)(t.ranks)){e.next=7;break}return(0,f.reportError)("getGameTaskRankList 接口返回为空",{},"fatal"),e.abrupt("return",{ranks:{}});case 7:return e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),(0,f.reportError)("getGameTaskRankList 接口报错",{err:e.t0},"fatal"),console.error("getGameTaskRankList 接口报错",e.t0),e.abrupt("return",{ranks:{}});case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=k(o.default.mark((function e(){var n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h([g.ContributorCount,g.IncomePeopleCount,g.IncomeIncrease]);case 2:n=e.sent,r=(n||{ranks:{}}).ranks,Object.keys(r).forEach((function(e){p.list[e]=r[e]||[]})),t(_[p.tab].tabName);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=k(o.default.mark((function e(n){var r,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(_[n].tabName),p.list[n]&&p.list[n].length){e.next=7;break}return e.next=4,h([Number(n)]);case 4:r=e.sent,a=r.ranks,p.list[n]=a[n];case 7:p.tab=Number(n);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return y().then((function(){p.inited=!0})),m(m({},(0,i.toRefs)(p)),{},{TextMap:_,handleTabChange:O,handleItemClick:function(e){var n={tab_name:_[p.tab].tabName,mission_id:e.task_id,game_id:e.game_id,game_name:e.game_name,card_id:e.rank_number};r(n),d(n),(0,c.navigateTo)("/pages/detail/index",{task_id:e.task_id,pre_location:"daily_rank",inside:!0,extraLogParams:JSON.stringify({rank:e.rank_number,rank_name:_[p.tab].tabName})})},itemShowLog:function(e){var n={tab_name:_[p.tab].tabName,mission_id:e.task_id,game_id:e.game_id,game_name:e.game_name,card_id:e.rank_number};a(n),b(n)},TabEnum:g})}};n.default=h},e6f6:function(e,n,t){"use strict";var r=t("144f");t.n(r).a},e88c:function(e,n,t){"use strict";t.r(n);var r=t("c1cd"),a=t.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(o);n.default=a.a}},[["161b","common/runtime","common/vendor"]]])}));
//# sourceMappingURL=index.js.map