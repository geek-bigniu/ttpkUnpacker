define("components/Announcement/index.js",(function(n,e,t,o,r,a,u,c,i,l,f,s,p,d,m,b,v,y,g,h,_,O,w,j,P,k,A,S,x,M,C,D,E){(global.webpackJsonp=global.webpackJsonp||[]).push([["components/Announcement/index"],{"37b2":function(n,e,t){"use strict";var o=t("69b5");t.n(o).a},"437d":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=m(t("a34a")),a=m(t("7ee8")),u=m(t("5a0c")),c=t("dc04"),i=t("ccb9"),l=t("ad4f"),f=t("4260"),s=m(t("6dd2")),p=t("4ad9"),d=m(t("f598"));function m(n){return n&&n.__esModule?n:{default:n}}function b(n,e,t,o,a,u,c){try{var i=n[u](c),l=i.value}catch(n){return void t(n)}i.done?e(l):r.resolve(l).then(o,a)}function v(n){return function(){var e=this,t=arguments;return new r((function(o,r){var a=n.apply(e,t);function u(n){b(a,o,r,u,c,"next",n)}function c(n){b(a,o,r,u,c,"throw",n)}u(void 0)}))}}function y(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,r,a=[],u=!0,c=!1;try{for(t=t.call(n);!(u=(o=t.next()).done)&&(a.push(o.value),!e||a.length!==e);u=!0);}catch(n){c=!0,r=n}finally{try{u||null==t.return||t.return()}finally{if(c)throw r}}return a}}(n,e)||function(n,e){if(n){if("string"==typeof n)return g(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function h(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function _(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?h(Object(t),!0).forEach((function(e){O(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function O(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var w=function(n,e){s.default.send(n,_({pop_up_page_type:"audit_announce"},e))},j={components:{CommonModal:function(){t.e("components/CommonModal").then(function(){return resolve(t("ce2b"))}.bind(null,t)).catch(t.oe)}},props:{entry:{type:String,default:"mainPage"},taskId:{type:String,default:function(){return""}}},setup:function(n,e){var t=e.emit,r=(0,c.reactive)({announcement:{}}),s=(0,f.getCurrentPageOptions)().last_location,m=y((0,d.default)(),2),b=m[0],g=b.mainPageAnnouncementShow,h=b.taskDetailAnnouncementShow,O=m[1],j=O.setTaskDetailAnnouncementShow,P=O.setMainPageAnnouncementShow,k=(0,c.computed)((function(){return"mainPage"===n.entry})),A=(0,c.computed)((function(){return"taskDetail"===n.entry})),S=(0,c.computed)((function(){return(k.value&&g.value||A.value&&h.value)&&!(0,a.default)(r.announcement)}));(0,c.watch)((function(){return S.value}),(function(n){n&&w("pop_up_page_show",{last_location:s,announcement_id:r.announcement.id})}));var x=function(){var e=v(o.default.mark((function e(){var t,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="mainPage"===n.entry?{type:i.ANNOUNCEMENT_TYPE.mainPage}:{type:i.ANNOUNCEMENT_TYPE.taskDetail,task_id:n.taskId},e.next=3,(0,l.getAnnouncement)(t);case 3:a=e.sent,r.announcement=a;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){k.value&&P(!1),A.value&&j(!1),t("close"),(0,l.announceCallback)({announcement_id:r.announcement.id})},C=(0,c.computed)((function(){return u.default.unix(r.announcement.start_time).format("YYYY-MM-DD HH:mm")}));return x(),_(_({},(0,c.toRefs)(r)),{},{isMainPage:k,startTime:C,handleCallback:function(){w("pop_up_page_click",{last_location:s,announcement_id:r.announcement.id,button_name:"agree"}),r.announcement.jump_link?(0,p.openWebWithoutNavStatus)(r.announcement.jump_link):M()},handleClose:function(){w("pop_up_page_click",{last_location:s,announcement_id:r.announcement.id,button_name:"cancel"}),M()},show:S})}};e.default=j},5019:function(n,e,t){"use strict";t.r(e);var o=t("437d"),r=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(a);e.default=r.a},"69b5":function(n,e,t){},"91ef":function(n,e,t){"use strict";t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return r})),t.d(e,"a",(function(){}));var o=function(){this.$createElement;this._self._c},r=[]},d95b:function(n,e,t){"use strict";t.r(e);var o=t("91ef"),r=t("5019");for(var a in r)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return r[n]}))}(a);t("37b2");var u=t("f0c5"),c=Object(u.a)(r.default,o.b,o.c,!1,null,"604b1932",null,!1,o.a,undefined);e.default=c.exports}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["components/Announcement/index-create-component",{"components/Announcement/index-create-component":function(n,e,t){t("d1fe").createComponent(t("d95b"))}},[["components/Announcement/index-create-component"]]])}));
//# sourceMappingURL=index.js.map