define("components/VideoPlayer.js",(function(e,n,t,o,r,u,a,c,i,l,f,d,s,p,v,b,h,m,g,w,y,x,P,V,k,_,j,C,S,T,F,I,J){(global.webpackJsonp=global.webpackJsonp||[]).push([["components/VideoPlayer"],{4931:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=l(t("a34a")),u=l(t("be60")),a=t("dc04"),c=l(t("dbcb")),i=t("5bf1");function l(e){return e&&e.__esModule?e:{default:e}}function f(e,n,t,o,u,a,c){try{var i=e[a](c),l=i.value}catch(e){return void t(e)}i.done?n(l):r.resolve(l).then(o,u)}function d(e){return function(){var n=this,t=arguments;return new r((function(o,r){var u=e.apply(n,t);function a(e){f(u,o,r,a,c,"next",e)}function c(e){f(u,o,r,a,c,"throw",e)}a(void 0)}))}}var s={props:{source:{type:String,default:""},isVideo:{type:Boolean,default:!0}},setup:function(e,n){var t,r,l=n.emit,f=e.isVideo?"video":"img",s=(0,a.ref)(0),p=(0,a.computed)((function(){return e.isVideo?"https://lf3-static.bytednsdoc.com/obj/eden-cn/nulojupqvbs/f84976f999e548c7bd8d8bb1c2d5f7fa_tplv-8vc7tlzf3c-raw.png":e.source})),v=(0,a.computed)((function(){return s.value?100===s.value?"已下载":"".concat(s.value,"%"):"下载"})),b=function(){var n=d(o.default.mark((function n(){return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.default.previewImage({urls:[e.source],current:e.source});case 3:(0,i.report)("预览图片成功",{url:e.source}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),(0,i.report)("预览图片失败",{url:e.source});case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}(),h=function(n){u.default.hideLoading(),s.value=0,(0,i.report)("保存到相册失败",{url:e.source,sourceType:f,errMsg:n&&n.errMsg}),l("downloadFail")},m=function(){var n=d(o.default.mark((function n(){var t;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.isVideo?"saveVideoToPhotosAlbum":"saveImageToPhotosAlbum",n.next=4,u.default[t]({filePath:r});case 4:n.sent,u.default.hideLoading(),s.value=100,(0,i.report)("保存到相册成功",{url:e.source,sourceType:f}),l("downloadSuccess"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),h(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();return(0,c.default)("onUnload",(function(){u.default.hideLoading()})),{progress:s,previewImg:p,handlePreview:function(){e.isVideo?(t=u.default.createVideoContext(e.source)).requestFullScreen():b()},handleScreenChange:function(e){var n=e.detail;t&&(console.log(n),n.fullScreen?t.play():(t.stop(),t=""))},downloadText:v,downloadClick:function(){if(!s.value){u.default.showLoading({title:"下载中，请稍等"});var n=u.default.downloadFile({url:e.source});n.then((function(e){200===e.statusCode?(r=e.tempFilePath,m()):h(e)})).catch(h),n.onProgressUpdate((function(e){s.value=parseInt(e.progress)}))}}}}};n.default=s},"4c03":function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){}));var o=function(){this.$createElement;this._self._c},r=[]},"4edf":function(e,n,t){"use strict";t.r(n);var o=t("4931"),r=t.n(o);for(var u in o)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(u);n.default=r.a},5912:function(e,n,t){"use strict";t.r(n);var o=t("4c03"),r=t("4edf");for(var u in r)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(u);t("fafa");var a=t("f0c5"),c=Object(a.a)(r.default,o.b,o.c,!1,null,"f1930dee",null,!1,o.a,undefined);n.default=c.exports},bb4e:function(e,n,t){},fafa:function(e,n,t){"use strict";var o=t("bb4e");t.n(o).a}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["components/VideoPlayer-create-component",{"components/VideoPlayer-create-component":function(e,n,t){t("d1fe").createComponent(t("5912"))}},[["components/VideoPlayer-create-component"]]])}));
//# sourceMappingURL=VideoPlayer.js.map