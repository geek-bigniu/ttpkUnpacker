define("components/CollectMessage/wechatModal.js",(function(e,t,n,r,o,c,a,u,l,i,f,s,d,p,b,h,g,v,m,y,O,M,w,_,P,j,S,C,x,k,A,E,I){(global.webpackJsonp=global.webpackJsonp||[]).push([["components/CollectMessage/wechatModal","components/CollectMessage/index"],{"02e5":function(e,t,n){"use strict";n.r(t);var r=n("97d0"),o=n.n(r);for(var c in r)["default"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(c);t.default=o.a},1104:function(e,t,n){},"27ee":function(e,t,n){"use strict";var r=n("1104");n.n(r).a},"4ead":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var r=function(){this.$createElement;this._self._c},o=[]},"79ab":function(e,t,n){"use strict";n.r(t);var r=n("ba70"),o=n("cace");for(var c in o)["default"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(c);n("b2a8");var a=n("f0c5"),u=Object(a.a)(o.default,r.b,r.c,!1,null,"0f50ff88",null,!1,r.a,undefined);t.default=u.exports},"97d0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EVENT_MAPS=void 0;var r=n("dc04"),c=n("267e"),a=n("4360"),u=function(e){return e&&e.__esModule?e:{default:e}}(n("6dd2")),l=["type"];function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h={show:"mobile_acquire_pop_up_page_show",click:"mobile_acquire_pop_up_page_click",getPhoneSuccess:"mobile_acquire_success",settleXintuSuccess:"settle_xingtu_success"};t.EVENT_MAPS=h;var g={components:{XingtuModal:function(){o.all([n.e("common/vendor"),n.e("components/CollectMessage/xingtuModal")]).then(function(){return resolve(n("9005"))}.bind(null,n)).catch(n.oe)},PostAgreementModal:function(){n.e("components/CollectMessage/postAgreementModal").then(function(){return resolve(n("327f"))}.bind(null,n)).catch(n.oe)},GetPhoneNumberModal:function(){n.e("components/CollectMessage/getPhoneNumberModal").then(function(){return resolve(n("dac5"))}.bind(null,n)).catch(n.oe)},FillPhoneNumberModal:function(){o.all([n.e("common/vendor"),n.e("components/CollectMessage/fillPhoneNumberModal")]).then(function(){return resolve(n("e671"))}.bind(null,n)).catch(n.oe)}},props:{fromPage:{type:String,default:""},triggerForClick:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1}},setup:function(e,t){var n=t.emit,o=p((0,a.useXingTuInfo)(),1)[0],f=o.registerStatus,d=o.registerUrl,b=(0,r.reactive)({xintuModal:!1,agreemnetModal:!1,getPhoneModal:!1,getPhoneModalVisible:!0,fillModal:!1});f.value===c.XingTuStatus.UnSettled?b.xintuModal=!0:f.value===c.XingTuStatus.UnSigned?b.agreemnetModal=!0:b.getPhoneModal=!0;var g=function(e){return b[e]=!0},v=function(e){b[e]=!1},m=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n("success",s({},t))},y=(0,r.computed)((function(){var t=e.triggerForClick,n=e.fromPage;return!t&&"mine_contact"!==n}));return s(s({},(0,r.toRefs)(b)),{},{forFansThreshold:y,registerUrl:d,handleGetSuccess:m,handleFillOther:function(){g("fillModal"),v("getPhoneModalVisible")},handleBack:function(){v("fillModal"),g("getPhoneModalVisible")},handleFillSuccess:function(){v("fillModal");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];m(t)},handleClose:function(){return n("close")},handleRegisteSuccess:function(){v("xintuModal"),g("getPhoneModal")},handleAgreeSuccess:function(){v("agreemnetModal"),g("getPhoneModal")},sendLog:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.triggerForClick,o=e.fromPage,c=n.type,a=void 0===c?"show":c,f=i(n,l),d=h[a];d&&u.default.send(d,s(s({},f),{},{pop_up_method:r?"active":"passive",last_location:o,pop_up_page_name:t}))}})}};t.default=g},a4c4:function(e,t,n){},b2a8:function(e,t,n){"use strict";var r=n("a4c4");n.n(r).a},ba70:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var r=function(){this.$createElement;this._self._c},o=[]},cace:function(e,t,n){"use strict";n.r(t);var r=n("e100"),o=n.n(r);for(var c in r)["default"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(c);t.default=o.a},cc75:function(e,t,n){"use strict";n.r(t);var r=n("4ead"),o=n("02e5");for(var c in o)["default"].indexOf(c)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(c);n("27ee");var a=n("f0c5"),u=Object(a.a)(o.default,r.b,r.c,!1,null,"b939a568",null,!1,r.a,undefined);t.default=u.exports},e100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n("a34a")),c=n("dc04"),a=n("4360"),u=n("4260"),l=f(n("6dd2")),i=n("cc75");function f(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,c,a,u){try{var l=e[a](u),i=l.value}catch(e){return void n(e)}l.done?t(i):o.resolve(i).then(r,c)}function d(e){return function(){var t=this,n=arguments;return new o((function(r,o){var c=e.apply(t,n);function a(e){s(c,r,o,a,u,"next",e)}function u(e){s(c,r,o,a,u,"throw",e)}a(void 0)}))}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m={components:{CommonModal:function(){n.e("components/CollectMessage/modal").then(function(){return resolve(n("0bce"))}.bind(null,n)).catch(n.oe)},CommonInput:function(){n.e("components/Input").then(function(){return resolve(n("1270"))}.bind(null,n)).catch(n.oe)},ButtonGroup:function(){n.e("components/CollectMessage/buttonGroup").then(function(){return resolve(n("9f5a"))}.bind(null,n)).catch(n.oe)}},props:{wechat:{type:String,default:""}},setup:function(e,t){var n=t.emit,o=(0,c.reactive)({inputContent:e.wechat,focus:!1}),f=g((0,a.useContact)(),2)[1].handleConfirm,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.EVENT_MAPS[e];n&&l.default.send(n,b(b({},t),{},{pop_up_method:"active",last_location:"contact_info",pop_up_page_name:"wechat"}))},p=function(){var t=d(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.inputContent){t.next=2;break}return t.abrupt("return",(0,u.toast)("请输入微信号"));case 2:if(o.inputContent!==e.wechat){t.next=4;break}return t.abrupt("return",(0,u.toast)("修改前后微信号相同"));case 4:if((0,u.isValidWechat)(o.inputContent)){t.next=6;break}return t.abrupt("return",(0,u.toast)("请填写正确微信号"));case 6:return s("click",{button_name:"agree"}),t.next=9,f({wechat:o.inputContent});case 9:n("success");case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return b(b({},(0,c.toRefs)(o)),{},{handleInput:function(e){var t=e.target.value.replace(/[^0-9a-z\_\-]/gi,"");return o.inputContent=t,t},clearInput:function(){return o.inputContent=""},handleBack:function(){n("close"),s("click",{button_name:"cancel"})},handleEnsure:p,sendLog:s})}};t.default=m}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["components/CollectMessage/wechatModal-create-component",{"components/CollectMessage/wechatModal-create-component":function(e,t,n){n("d1fe").createComponent(n("79ab"))}},[["components/CollectMessage/wechatModal-create-component"]]])}));
//# sourceMappingURL=wechatModal.js.map