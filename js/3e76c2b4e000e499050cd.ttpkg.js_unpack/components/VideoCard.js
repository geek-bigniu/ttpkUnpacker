define("components/VideoCard.js",(function(e,t,n,o,i,r,a,d,u,c,s,f,l,p,m,v,y,b,h,g,T,V,P,S,k,O,w,j,_,H,I,R,A){(global.webpackJsonp=global.webpackJsonp||[]).push([["components/VideoCard"],{6102:function(e,t,n){"use strict";n.r(t);var o=n("78d2"),i=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t.default=i.a},"784a":function(e,t,n){},"78d2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=y(n("a34a")),a=y(n("ec41")),d=n("dc04"),u=n("c9da"),c=y(n("e465")),s=n("4260"),f=y(n("6dd2")),l=n("15a0"),p=n("5acd"),m=n("5aff"),v=n("4ad9");function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,o,r,a,d){try{var u=e[a](d),c=u.value}catch(e){return void n(e)}u.done?t(c):i.resolve(c).then(o,r)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){var t=(0,s.formatMoneyUnit)(e);return 0===Number(t)?0:t},P=(T(o={},u.MediaType.Video,"短视频"),T(o,u.MediaType.Live,"直播"),o),S=function(e,t){return e&&t?[e,t].map((function(e){return(0,p.formatTime)(e,!1,!0,".")})).join("-"):""},k=function(e,t){if(!e||!t)return"-";var n=(0,l.multiply)([e,t]);return"1"===n?"1.0":n},O={components:{VideoTag:function(){n.e("components/VideoTag").then(function(){return resolve(n("d29e"))}.bind(null,n)).catch(n.oe)},LogNative:function(){n.e("components/LogNative").then(function(){return resolve(n("7d84"))}.bind(null,n)).catch(n.oe)}},props:{video:{type:Object,required:!0},isInDetail:{type:Boolean,default:!1},commonLogParams:{type:Object,default:function(){return{launch_from:"",tab_name:""}}}},setup:function(e){var t=(0,d.computed)((function(){var t=e.video,n=t.Category,o=(0,a.default)(t,"AuditRemarks.PredefinedRemarks",[]),i=(0,u.defaultInfo)(n,o);if(i)return o.includes(u.VideoAuditRemark.StrongImplantation)?u.failedInfo[u.VideoAuditRemark.StrongImplantation]:i;if(!o.length)return"–";var r=(0,a.default)(t,"AuditSuggests",[]);if(o.includes(u.VideoAuditRemark.UnSafe)&&r.length){var d=[];return r.forEach((function(e){return d.push(e.BanReason)})),d.join("、")}if(o.includes(u.VideoAuditRemark.UnrelatedAnchor))return u.relatedInfo[u.VideoAuditRemark.UnrelatedAnchor];var c=(0,a.default)(t,"NotRecommendReason","");if(o.includes(u.VideoAuditRemark.NotRecommendedVideo)&&c.length)return c;var s=[],f=[],l=[];return o.forEach((function(e){u.standardInfo[e]&&f.push(u.standardInfo[e]),u.relatedInfo[e]&&l.push(u.relatedInfo[e]),u.otherInfo[e]&&s.push(u.otherInfo[e])})),f.length&&s.push(f.join("、")+"不规范"),l.length&&s.push(l.join("、")+"无关联"),s.join("；")||"–"})),n=(0,d.computed)((function(){var n,o=e.video,i=(0,p.formatTime)(o.RecallTime||o.PublishTime,!0,!0,".",!0),r="将于".concat((0,p.formatTime)(o.PublishTime,!0,!0,"."),"发布"),a=[u.HomeVideoType.PendingSettle,u.HomeVideoType.Settled].includes(o.HomeVideoType),d=2===o.ProfitOwner?"机构结算":"¥ "+V(o.AuthorIncome),c=a&&o.RookieRewardFactor>1,f=o.HomeVideoType===u.HomeVideoType.PendingAudit&&1===o.AuditFirst&&o.VideoStatus===u.VideoStatus.PendingAudit,l=o.BidType===u.BidType.CpsLongPeriod,m=l&&o.HomeVideoType===u.HomeVideoType.PendingSettle;switch(o.HomeVideoType){case u.HomeVideoType.PendingAudit:n=f?"预审核中，通过后视频公开":"";break;case u.HomeVideoType.PendingPublish:n=r;break;case u.HomeVideoType.PendingSettle:n=l?["¥ ".concat(V(o.SettledProfit)),"¥ ".concat(V(o.UnsettledProfit))]:d;break;case u.HomeVideoType.Settled:n=d;break;default:n=t.value}var v=o.MediaType===u.MediaType.Live,y=o.ShowPrice?o.ConversionRate:0,b=(0,u.bidTypeLiteral)(o.BidType);return g(g({},o),{},{CreatedTime:i,PublishTime:r,HasReward:a,rookieReward:c,isUnion:l,isUnionPendingSettle:m,OtherInfo:n,HomeVideoText:(0,u.videoStatus)(o),CategoryStatus:(0,u.categoryStatus)(o.MediaType,o.Category),SettleMode:b+"结算",ProfitFactor:k(o.ProfitFactor,o.UserCategoryFactor),ConversionRate:y?"".concat((0,s.toFixed)(100*y),"%"):"-",VideoTag:P[o.MediaType],isLive:v,SettlePeriod:v?"":S(o.SettleStartTime,o.SettleEndTime)})})),o=function(){var t=function(e){return function(){var t=this,n=arguments;return new i((function(o,i){var r=e.apply(t,n);function a(e){b(r,o,i,a,d,"next",e)}function d(e){b(r,o,i,a,d,"throw",e)}a(void 0)}))}}(r.default.mark((function t(){var n,o;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=e.video).IsSchedulePublish&&[u.HomeVideoType.PendingAudit,u.HomeVideoType.PendingPublish].includes(n.HomeVideoType)||n.AuditFirst&&n.VideoStatus!==u.VideoStatus.AuditPassed)){t.next=8;break}return t.next=4,(0,c.default)();case 4:o=t.sent.value.userId,(0,v.openUserProfile)(o),t.next=9;break;case 8:n.MediaType===u.MediaType.Live?(0,m.toast)("直播任务暂时不支持查看"):(0,v.openVideo)(n);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show",n=e.commonLogParams,o=e.video,i=g(g({},n),{},{item_id:o.VideoId,status:u.LogTabStatusMap[o.HomeVideoType]||o.HomeVideoType,mission_id:o.TaskId});"show"!==t?f.default.send("my_video_card_click",i):f.default.send("my_video_card_show",i)};return{settled:n,handleClick:o,gotoVideoDetailPage:function(){var t=e.video,o=e.commonLogParams,i=e.isInDetail,r=n.value;r.isLive||!r.HasReward||i||(l("click"),(0,v.navigateTo)("/home-pages/mine-video-detail/index",{media_id:t.VideoId,media_type:t.MediaType,from_tab_name:o.tab_name}))},sendLog:l}}};t.default=O},"829b":function(e,t,n){"use strict";n.r(t);var o=n("e61f"),i=n("6102");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("a89c");var a=n("f0c5"),d=Object(a.a)(i.default,o.b,o.c,!1,null,"f609fdd8",null,!1,o.a,undefined);t.default=d.exports},a89c:function(e,t,n){"use strict";var o=n("784a");n.n(o).a},e61f:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var o=function(){this.$createElement;this._self._c},i=[]}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["components/VideoCard-create-component",{"components/VideoCard-create-component":function(e,t,n){n("d1fe").createComponent(n("829b"))}},[["components/VideoCard-create-component"]]])}));
//# sourceMappingURL=VideoCard.js.map