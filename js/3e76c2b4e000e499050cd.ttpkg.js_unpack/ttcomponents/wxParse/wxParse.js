define("ttcomponents/wxParse/wxParse.js",(function(t,e,n,r,a,i,o,d,l,s,u,f,c,g,h,m,v,w,y,p,x,b,j,P,I,A,S,D,O,T,W,k,C){"use strict";var H=U(t("./showdown.js")),M=U(t("./html2json.js"));function U(t){return t&&t.__esModule?t:{default:t}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return J(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,d=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){d=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(d)throw i}}}}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var L=0,N=0;function $(t){var e=t.target.dataset.src,n=t.target.dataset.from;void 0!==n&&n.length>0&&wx.previewImage({current:e,urls:this.data[n].imageUrls})}function q(t){var e=t.target.dataset.from,n=t.target.dataset.idx;void 0!==e&&e.length>0&&function(t,e,n,r){var a,i=n.data[r];if(!i||0==i.images.length)return;var o,d=i.images,l=function(t,e,n,r){var a=0,i=0,o=0,d={},l=n.data[r].view.imagePadding;N,t>(a=L-2*l)?(o=(i=a)*e/t,d.imageWidth=i,d.imageheight=o):(d.imageWidth=t,d.imageheight=e);return d}(t.detail.width,t.detail.height,n,r),s=d[e].index,u="".concat(r),f=E(s.split("."));try{for(f.s();!(o=f.n()).done;){var c=o.value;u+=".nodes[".concat(c,"]")}}catch(t){f.e(t)}finally{f.f()}var g=u+".width",h=u+".height";n.setData((_(a={},g,l.imageWidth),_(a,h,l.imageheight),a))}(t,n,this,e)}wx.getSystemInfo({success:function(t){L=t.windowWidth,N=t.windowHeight}}),e.exports={wxParse:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wxParseData",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'<div class="color:red;">数据不能为空</div>',r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=r,o={};if("html"==e)o=M.default.html2json(n,t);else if("md"==e||"markdown"==e){var d=new H.default.Converter,l=d.makeHtml(n);o=M.default.html2json(l,t)}o.view={},o.view.imagePadding=0,void 0!==a&&(o.view.imagePadding=a);var s={};s[t]=o,i.setData(s),i.wxParseImgLoad=q,i.wxParseImgTap=$},wxParseTemArray:function(t,e,n,r){for(var a=[],i=r.data,o=null,d=0;d<n;d++){var l=i[e+d].nodes;a.push(l)}t=t||"wxParseTemArray",(o=JSON.parse('{"'+t+'":""}'))[t]=a,r.setData(o)},emojisInit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/wxParse/emojis/",n=arguments.length>2?arguments[2]:void 0;M.default.emojisInit(t,e,n)}}}));
//# sourceMappingURL=wxParse.js.map